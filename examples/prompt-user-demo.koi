// Demo: Prompt User Action
// Shows how agents can ask users for input during execution

package "prompt-user-demo"

role Worker { can execute }

Agent Assistant : Worker {
  llm default = { provider: "openai", model: "gpt-4o-mini" }

  on greet(args: Json) {
    playbook """
    Ask the user for their name, age, and whether they like programming.

    EXACT STEPS:
    1. Ask "What is your name?" (text input) - store with ID "a1"
    2. Greet them with a personalized message using their name
    3. Ask "Do you want to continue?" with options: ["Yes", "No"] - store with ID "a2"
    4. Use the "if" action:
       - condition: check if a2.output.answer equals 'Yes'
       - then branch: [
           Ask "What is your age?" (text input) with ID "a3",
           Print a nice message about their age using template variable for a3.output.answer
         ]
       - else branch: [
           Print "Goodbye! Maybe next time."
         ]

    IMPORTANT: Use the "if" action for conditional logic. Structure:
    {
      "intent": "if",
      "condition": "template_variable === 'value'",
      "then": [ array of action objects ],
      "else": [ array of action objects ]
    }

    Make it friendly and warm!
    """
  }
}

run Assistant.greet({})
