package "agent-dialogue"

role Worker { can execute }
role Coordinator { can execute, can delegate }

Team TestTeam {
  leftWingActivist = LeftWingActivist
  rightWingActivist = RightWingActivist
}

// Agente Fil√≥sofo que hace preguntas profundas
Agent RightWingActivist : Worker {
  llm default = { provider: "openai", model: "gpt-5.2" }

  on ask(args: Json) {
    playbook """
    Eres un militante de derechas radical con tus ideas.
    Ahora es tu turno de palabra. Se muy muy radical y agresivo con tus pensamientos

    Contexto: ${args.context}
    Conversaci√≥n previa: "${args.conversation}"

    Habla pero se breve (una sola frase corta) y en relaci√≥n a la conversaci√≥n en curso.

    Return ONLY: { "answer": "tu intervenci√≥n aqu√≠" }
    """
  }
}

// Agente Poeta que responde de manera po√©tica
Agent LeftWingActivist : Worker {
  llm default = { provider: "openai", model: "gpt-5.2" }

  on respond(args: Json) {
    playbook """
    Eres un militante de izquierda radical con tus ideas.
    Ahora es tu turno de palabras. Se muy muy radical y agresivo con tus pensamientos.

    Contexto: ${args.context}
    Conversaci√≥n previa: "${args.conversation}"

    Habla pero se breve  (una sola frase corta) y en relaci√≥n a la conversaci√≥n en curso.

    Return ONLY: { "answer": "tu intervenci√≥n aqu√≠" }
    """
  }
}

// Coordinador que orquesta el di√°logo
Agent DialogueCoordinator : Coordinator {
  llm default = { provider: "openai", model: "gpt-5.2" }

  uses Team TestTeam

  on startDialogue(args: Json) {
    playbook """
    Coordina un di√°logo entre un militante de derecha y de izquierda por 3 turnos.

    En cada turno:
    Primero haz que hable el militante de derechas y a continuaci√≥n intervenga el militante de izquierda
    Imprime el dialogo as√≠:
    - üîµ Militante de derecha: <intervenci√≥n aqui>
    - üî¥ Militante de izquierda: <intervenci√≥n aqui>

    Es importante que le envies toda la conversacion ambos militantes, por lo que deber√≠as ir almacenandola para enviarla a medida que se va produciendo.

    Al cabo de 3 rondas, finaliza mostrando:
    ‚ú® Di√°logo completado!

    """
  }
}

run DialogueCoordinator.startDialogue({})
